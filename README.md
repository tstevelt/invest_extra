
## Extra Programs
These programs are run from the command line (or crontab) as needed

---------------------------------------------------------------------------
DumpChart Print data for one-year chart to stdout.
```
USAGE: DumpChart TICKER
```
---------------------------------------------------------------------------
IndexRecon Index Reconstitute
```
USAGE: IndexRecon index testdate filename [-add] [-d]
index     D S N 1 2
testdate  yyyy-mm-dd
-add      add stock if not in database
```
---------------------------------------------------------------------------
InsertStock Get all symbols from IEX Cloud, insert new companies.
```
USAGE: InsertStock {-cloud|-file}
-file assumes /var/local/invest/symbols.txt
```
---------------------------------------------------------------------------
LoadTemp Load temp table from various arguments. expand as needed.
```
USAGE:LoadTemp -member ID -sector code
  LoadTemp -member ID -industry code
```
---------------------------------------------------------------------------
MakeDemoUser Make Demo Account
```
USAGE: MakeDemoUser S|E
```
---------------------------------------------------------------------------
PortfolioAlert Examine [user's] PortfolioAlert and send alerts as necessary
```
USAGE: PortfolioAlert -all       [-d]
USAGE: PortfolioAlert -member id [-d]
-d - debug, no email
```
---------------------------------------------------------------------------
PortfolioCorr Print array for correlation eval by python script Corr.py
```

Print array for correlation eval by python script Corr.py
Reads from portfolio, watchlist, temp table or file

USAGE: PortfolioCorr {P|W|T|F file} -member # [-d]
-d - debug
```
---------------------------------------------------------------------------
SyncPortfolio Broker account position files are downloaded (as .csv) and 
```
USAGE: SyncPortfolio  MemberID  BrokerID  Filename  [-d]
BrokerID can be either FID, SCHW or IBKR
```
---------------------------------------------------------------------------
TrailStop Rachet up xportfolio.xptrailvalue as needed.  
```
USAGE: TrailStop -all       [-d]
USAGE: TrailStop -member id [-d]
-d - debug, no update and no  email
```
---------------------------------------------------------------------------
UpdateCompany Read company info file from IEX Cloud.  Update Sector and Industry
```
USAGE: UpdateCompany CompanyDataFile [-d]
```
---------------------------------------------------------------------------
UpdateMarket 
```
USAGE: UpdateMarket -market enddate [-d]
USAGE: UpdateMarket {S|N}   weeks
USAGE: UpdateMarket -TICKER weeks
Only -market updates the market table
```
---------------------------------------------------------------------------
UpdatePorthist Insert/Update porthist record[s] for one date. If no date
```
USAGE: UpdatePorthist -member # [-date yyyy-mm-dd] [-d]
USAGE: UpdatePorthist -all      [-date yyyy-mm-dd] [-d]
-d  debug, no update db
```
---------------------------------------------------------------------------
UploadOrders Upload buy and sell orders, update portfolo and cashbal tables
```
USAGE: UploadOrders  MemberID  Filename
```
---------------------------------------------------------------------------
WatchlistAlert Send messages if watchlist alert is triggered.
```
USAGE: WatchlistAlert -all       [-d]
USAGE: WatchlistAlert -member id [-d]
-d - debug, no email
```
---------------------------------------------------------------------------
WatchlistAlertRT RT stands for Real Time, but only runs as often as called from 
```
USAGE: WatchlistAlertRT -member id [-d]
-d - debug, no SMS
```
---------------------------------------------------------------------------
cleandata Check database for weird data.
```
USAGE: cleandata -stock  date [-d]
   Deletes stocks and history where Slast < date (if not in portfolio)
USAGE: cleandata -history {equal|less} date [-d]
   Deletes history and average records
USAGE: cleandata -report {all | TICKER} date [-d]
   date = history should be loaded up to and including this date.
format date as yyyy-mm-dd
```
---------------------------------------------------------------------------
est_target Given total value, rmd required (7 year), cash req (6 mo)
```

Estimate target asset allocation percentages

USAGE: est_target total rmd cash dom_for_ratio
total - total portfolio value
rmd   - rmd total for the next X years
cash  - emergency cash amount
dom_for_ratio - domestic/foreign equity ratio
```
---------------------------------------------------------------------------
fixsname Update stock names from file with good names.
```
USAGE: fixsname file [-d]
```
---------------------------------------------------------------------------
getYAHOO Load history from csv file generated by YAHOO_FIN (not YFINANCE)
```
USAGE: getYAHOO file [-raw] [-d]
-raw = do not adjust historical prices
-d   = debug
```
---------------------------------------------------------------------------
getfundFidelity process fundamantals csv files from fidelity
```
USAGE: getfundFidelity any [options]
Options:
-v  = verbose
-d  = debug, no db update
```
---------------------------------------------------------------------------
getfundIEX Get fundamentals (stats) from IEX, to fix some crap from SEC
```
USAGE: getfundIEX index          [options]
USAGE: getfundIEX -file filename [options]
USAGE: getfundIEX -ticker ticker [options]
S = S&P 500
D = Dow Jones Industrials
N = Nasdaq 100
M = Midcap (Russell 1000 ex S&P 500)
1 = Russell 1000
2 = Russell 2000
3 = Russell 3000
O = Other (not in any index)
A = All stocks
E = Only ETF
Options:
-v      = verbose
-nodb   = no db update, statements to stdout
-d [#]  = debug, no db update
```
---------------------------------------------------------------------------
getnews Get news from IEX for stocks in portfolios and watchlists.
```
USAGE: getnews -active        hours [-d#]
USAGE: getnews -ticker TICKER hours [-d#]
-active = stocks in portfolios and watchlists
-ticker = one stock
hours   = number of hours since last retrieved
-d  = debug
```
---------------------------------------------------------------------------
getsplits Scan stock history for price jumps, verify with IEX /splits/
```
USAGE: getsplits -all           days [-d#]
USAGE: getsplits -active        days [-d#]
USAGE: getsplits -ticker TICKER days [-d#]
-all    = all stocks
-active = stocks in portfolios
-ticker = one stock
days    = number of days ago to compare 10 day averages
-d1  = debug
-d2  = debug, more verbose
```
---------------------------------------------------------------------------
rpt_advance_decline For stocks in selected index, count advanced and declined
```
USAGE: rpt_advance_decline index timeframe
index:
S = S&P 500
D = Dow Jones Industrials
N = Nasdaq 100
M = Midcap (Russell 1000 ex S&P 500)
1 = Russell 1000
2 = Russell 2000
3 = Russell 3000
A = All stocks
O = Not indexed
timeframe: -1mo -6mo -1yr
```
---------------------------------------------------------------------------
rpt_performance Hard coded portfolio performance report.
```
USAGE: rpt_performance -member id [options]
options:
-benchmark ticker (SPY is default)
-limit #.#        (8 percent is default)
-sort {ticker*|gain|roi|compared|}
-fmt {csv*|txt|html|email|others not available
-d   = debug, prints alert or report, does not send email
* default value
```
---------------------------------------------------------------------------
rpt_prospect Compare portfolio holding to range of other stocks to find
```

This report needs fundamental grow1 and grow5, which we
no longer have, since Yahoo Finance broke.

USAGE: rpt_prospect -member id [options]
options:
-index x, default is A
-fmt {csv*|txt|html|email|xlsx
-d   = debug, prints alert or report, does not send email
* default value
```
